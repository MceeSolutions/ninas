<odoo>
  <data>
  
  	<menuitem id="helpdesk.menu_helpdesk_root" name="Accreditation"
        sequence="25"
        web_icon="ninasmain,static/icon/ninas-logo.png"
        groups="helpdesk.group_helpdesk_manager"/>
  	
  	<!-- Car Report action-->
    <record model="ir.actions.act_window" id="ninas_car_report_action">
		<field name="name">Car Report</field>
		<field name="res_model">car.report</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="domain">[]</field>
		<field name="context">{}</field>
	</record>
	
	<!-- Car Report attachment action-->
    <record model="ir.actions.act_window" id="ninas_car_report_attachment_action">
		<field name="name">Car Report Attachment</field>
		<field name="res_model">car.report.attachment</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="domain">[]</field>
		<field name="context">{}</field>
	</record>
    
    <!-- checklist ticket action-->
    <record model="ir.actions.act_window" id="ninas_checklist_ticket_action">
		<field name="name">checklist ticket</field>
		<field name="res_model">checklist.ticket</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="domain">[]</field>
		<field name="context">{}</field>
	</record>
  	
	<!-- action for halpdask team -->
    <record id="helpdesk.helpdesk_ticket_action_team" model="ir.actions.act_window">
        <field name="name">Applications</field>
        <field name="res_model">helpdesk.ticket</field>
        <field name="view_type">form</field>
        <field name="view_mode">kanban,tree,form</field>
        <field name="context">{'search_default_team_id': active_id}</field>
        <field name="search_view_id" ref="helpdesk.helpdesk_tickets_view_search"/>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                Click create a new Application.
            </p>
        </field>
    </record>
	
	 <!-- Action for dashboard button -->
    <record id="helpdesk.helpdesk_ticket_action_high_priorities" model="ir.actions.act_window">
        <field name="name">Applications</field>
        <field name="res_model">helpdesk.ticket</field>
        <field name="view_type">form</field>
        <field name="view_mode">kanban,tree,form</field>
        <field name="view_id" ref="helpdesk.helpdesk_ticket_view_kanban_no_create"/>
        <field name="domain">[('priority', '=', '2')]</field>
        <field name="context">{'default_priority': '2', 'search_default_is_open': True, 'search_default_my_ticket': True}</field>
        <field name="search_view_id" ref="helpdesk.helpdesk_tickets_view_search"/>
        <field name="help" type="html">
            <p>
                No Applications to display.
            </p>
        </field>
    </record>
    
    <!-- <record id="ninas_action_invoice_tree1" model="ir.actions.act_window">
            <field name="name">Customer Invoices</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,kanban,form,calendar,pivot,graph</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('type','=','out_invoice')]</field>
            <field name="context">{'type':'out_invoice', 'journal_type': 'sale'}</field>
            <field name="search_view_id" ref="account.view_account_invoice_filter"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create a customer invoice.
              </p><p>
                Odoo's electronic invoicing allows to ease and fasten the
                collection of customer payments. Your customer receives the
                invoice by email and he can pay online and/or import it
                in his own system.
              </p><p>
                The discussions with your customer are automatically displayed at
                the bottom of each invoice.
              </p>
            </field>
        </record>-->
        
         <record id="ninas_action_invoice_tree1" model="ir.actions.act_window">
            <field name="name">Invoices</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,kanban,calendar,graph,pivot</field>
            <field name="view_id" ref="account.invoice_tree"/>
            <field name="domain">[('type','in', ['out_invoice', 'out_refund']), ('state', 'not in', ['draft', 'cancel'])]</field>
            <field name="context">{'default_type':'out_invoice', 'type':'out_invoice', 'journal_type': 'sale'}</field>
            <field name="search_view_id" ref="account.view_account_invoice_filter"/>
        </record>
    
    <record id="ninas_helpdesk_view_form_view" model="ir.ui.view">
        <field name="name">helpdesk.ticket.form</field>
        <field name="model">helpdesk.ticket</field>
        <field name="priority" eval="7" />
        <field name="inherit_id" ref="helpdesk.helpdesk_ticket_view_form"/>
        <field name="arch" type="xml">
           <xpath expr="//button[@name='assign_ticket_to_self']" position="before">
                	<button type="object" name="confirm_funding" string="Confirm Sponsorship" class="btn btn-primary btn-sm o_invoice_new" attrs="{'invisible':['|', ('stage_id','!=',3), ('funding','=','fully_funded')]}"/>
                	<button type="object" name="confirmed_funding" string="Confirm Sponsorship" class="btn btn-primary btn-sm o_invoice_new" attrs="{'invisible':['|', ('stage_id','!=',3), ('funding','!=','fully_funded')]}" confirm="Application Fully Funded?"/>
                	<!-- <button type="object" name="action_create_new_invoice" string="Create Invoice" class="btn btn-primary btn-sm o_invoice_new" />
                	 -->
                	 <!-- <button type="object" name="invoice_prompt" string="Invoice" class="btn btn-primary btn-sm o_invoice_new" attrs="{'invisible':['|','|', ('stage_id','!=',17), ('funding','=','fully_funded'), ('preassessment_needed','=',True),]}" /> -->
			</xpath>
			<xpath expr="//button[@name='assign_ticket_to_self']" position="replace">
           			<button name="assign_ticket_to_self" string="Assign To Me" type="object" class="oe_highlight" groups="helpdesk.group_helpdesk_user" invisible="1"/>
			</xpath>
			<field name="partner_id" position="before">
                <field name="package_sent" readonly="1" invisible="1"/>
                <field name="submitted_to_ict" invisible="1"/>
            </field>
			<xpath expr="//button[@name='assign_ticket_to_self']" position="after">
                	<button type="object" name="button_confirm_sponsor" string="Proceed" attrs="{'invisible':[('stage_id','!=',1)]}" confirm="Are you sure all uploaded documents are completed?"/>
                	<button type="object" name="button_complete_approved" string="PROCEED" attrs="{'invisible':[('stage_id','!=',5)]}" class="btn btn-primary" confirm="Confirm Document Review Checklist has been sent"/>
                	<!-- <button type="object" name="button_complete_reject" string="Reject" attrs="{'invisible':[('stage_id','!=',3)]}" class="btn btn-danger"/>-->
                	<button type="object" name="action_resources_available" string="PROCEED" attrs="{'invisible':[('stage_id','!=',9)]}" class="btn btn-primary"/>
                	<button type="object" name="action_checklist_sent" string="PROCEED" attrs="{'invisible':[('stage_id','!=',5)]}" class="btn btn-primary" invisible="1"/>
                	<button type="object" name="button_assessor_agreement" string="PROCEED" attrs="{'invisible':[('stage_id','!=',10)]}" class="btn btn-primary" confirm="Please Make sure LA and Assessment Team has signed conflict of interest and confidentiality forms"/>
                	<button type="object" name="button_ready_assessment" string="Proceed" attrs="{'invisible':[('stage_id','!=',17)]}" />
					<button type="object" name="button_assessment_plan" string="Ready" attrs="{'invisible':[('stage_id','!=',19)]}" class="btn btn-primary" confirm="Please confirm that CAR's has been completely filled out"/>                	
                	<button type="object" name="button_assessment" string="Submit" attrs="{'invisible':[('stage_id','!=',12)]}" class="btn btn-primary"/>
					<button type="object" name="button_car" string="Assessment Done?" attrs="{'invisible':[('stage_id','!=',11)]}"/>
                	<button type="object" name="button_decision_making" string="CAR Sent / Approved" attrs="{'invisible':[('stage_id','!=',13)]}"/>
                	<button type="object" name="check_ac_members" string="Send Decision Package" attrs="{'invisible':['|', ('stage_id','!=',16), ('package_sent','=',True)]}"/>
                	<button type="object" name="button_awaiting_approval" string="Proceed" attrs="{'invisible':['|', ('stage_id','!=',16),('package_sent','!=',True)]}"/>
                	<button type="object" name="button_submit_decision" string="Submit Decision Form" attrs="{'invisible':[('stage_id','!=',13)]}" class="btn btn-success" invisible="1"/>
                	<button type="object" name="button_reject_app" string="CEO Reject" invisible="1" class="btn btn-danger"/>
                	<button type="object" name="button_submit_to_ict" string="Send to ICT" invisible="0" class="btn btn-success" attrs="{'invisible':['|', ('stage_id','!=',21), ('submitted_to_ict','=',True)]}"/>
                	
                	<!-- <button type="object" name="button_pending_closure" string="Next Stage" attrs="{'invisible':[('stage_id','!=',21)]}"/>
                	 -->
                	<button type="object" name="button_closed" string="Close Application?" class="btn btn-warning" attrs="{'invisible':[('stage_id','!=',18)]}"/>
                	<button type="object" name="button_reset_app" string="Ready For Review" class="btn btn-primary" attrs="{'invisible':[('stage_id','!=',18)]}"/>
			</xpath>
			<xpath expr="//button[@name='toggle_active']" position="before">
		    	<!-- <button type="action" class="oe_stat_button" name="%(ninasmain.ninas_checklist_ticket_action)d" context="{'search_default_customer': active_id,'default_customer': active_id}" icon="fa-list">
                	<field string="Checklist" name="checklist_count" widget="statinfo"/>
               </button>-->
               <button class="oe_stat_button" type="object" name="open_checklist_ticket" context="{'default_partner_id': active_id}" icon="fa-list">
                    <div class="o_stat_info">
                        <field name="checklist_count" class="o_stat_value"/>
                        <span class="o_stat_text">Checklist</span>
                    </div>
                </button>
               	<button class="oe_stat_button" type="object" name="open_customer_invoices" context="{'default_partner_id': active_id}" icon="fa-pencil-square-o">
                    <div class="o_stat_info">
                        <field name="invoice_count" class="o_stat_value"/>
                        <span class="o_stat_text">Invoices</span>
                    </div>
                </button>
                <button class="oe_stat_button" type="object" name="open_confidentiality_ticket" context="{'default_partner_id': active_id}" icon="fa fa-book">
                    <div class="o_stat_info">
                        <field name="confidentiality_count" class="o_stat_value"/>
                        <span class="o_stat_text">Confidentiality</span>
                    </div>
                </button>
                <button class="oe_stat_button" type="object" name="open_conflict_ticket" context="{'default_partner_id': active_id}" icon="fa fa-book">
                    <div class="o_stat_info">
                        <field name="conflict_count" class="o_stat_value"/>
                        <span class="o_stat_text">Conflict of Interest</span>
                    </div>
                </button>
                <button class="oe_stat_button" type="object" name="open_car" context="{'default_partner_id': active_id}" icon="fa-folder">
                    <div class="o_stat_info">
                        <field name="car_count" class="o_stat_value"/>
                        <span class="o_stat_text">C.A.R</span>
                    </div>
                </button>
                <button class="oe_stat_button" type="object" name="open_recommendation_form" context="{'default_partner_id': active_id}" icon="fa fa-group">
                    <div class="o_stat_info">
                        <field name="recommendation_count" class="o_stat_value"/>
                        <span class="o_stat_text">Recommendation Form</span>
                    </div>
                </button>
                <button class="oe_stat_button" type="object" name="open_decision_form" context="{'default_partner_id': active_id}" icon="fa fa-group">
                    <div class="o_stat_info">
                        <field name="decision_count" class="o_stat_value"/>
                        <span class="o_stat_text">Decision Form</span>
                    </div>
                </button>
               <!--<button type="action" class="oe_stat_button" name="%(ninasmain.ninas_action_invoice_tree1)d" icon="fa-pencil-square-o">
                   <field string="Invoices" name="invoice_count" widget="statinfo"/>
               </button>
               <button type="action" class="oe_stat_button" name="%(ninasmain.ninas_car_report_action)d" icon="fa-folder">
                   <field string="C.A.R Report" name="car_count" widget="statinfo"/>
               </button>-->
			</xpath>
			<!--  <xpath expr="//button[@name='toggle_active']" position="before">
		    	
			</xpath>-->
           </field>
    </record>
    
    
    
    <!-- mobile.app.attachment  tree view-->
    <record id="mobile_app_attachment_tree_view" model="ir.ui.view">
		<field name="name">mobile.app.attachment.tree</field>
		<field name="model">mobile.app.attachment</field>
		<field name="type">tree</field>
		<field name="arch" type="xml">
			<field name="name"/>
            <field name="attachment_description"/>
		</field>
	</record>

    <record id="mobile_app_attachment_form_view" model="ir.ui.view">
    <field name="name">mobile.app.attachment.form</field>
    <field name="model">mobile.app.attachment</field>
    <field name="priority" eval="2"/>
    <field name="arch" type="xml">
        <form string="Mobile App Attachment">
			 <sheet>
			    <group string="Attachments" col="4" colspan="4">
			    	<field name="name"/>
                    <field name="attachment_description"/>
                    <field name="attachment_image" widget="image"/>
			    </group>
			 </sheet>
        </form>
    </field>
    </record>
    
    <!-- car.report.attachment  tree view-->
    <record id="car_report_attachment_tree_view" model="ir.ui.view">
		<field name="name">car.report.attachment.tree</field>
		<field name="model">car.report.attachment</field>
		<field name="type">tree</field>
		<field name="arch" type="xml">
			<field name="application_id"/>
			<field name="name"/>
            <field name="attachment_description"/>
		</field>
	</record>

    <record id="car_report_attachment_form_view" model="ir.ui.view">
    <field name="name">car.report.attachment.form</field>
    <field name="model">car.report.attachment</field>
    <field name="priority" eval="2"/>
    <field name="arch" type="xml">
        <form string="Car Report Attachment">
			 <sheet>
				 <group>
				 	<field name="application_id" required="1"/>
				 	<field name="partner_id"/>
				 </group>
			    <group string="Attachments" col="4" colspan="4">
			    	<field name="name"/>
                    <field name="attachment_description"/>
                    <field name="attachment_ids" widget="many2many_binary"/>
			    </group>
			 </sheet>
        </form>
    </field>
    </record>
    
        <!-- checklist.ticket  tree view-->
    <record id="checklist_ticket_tree_view" model="ir.ui.view">
		<field name="name">checklist.ticket.tree</field>
		<field name="model">checklist.ticket</field>
		<field name="type">tree</field>
		<field name="arch" type="xml">
			<field name="ticket_id"/>
			<field name="partner_id"/>
		</field>
	</record>

    <record id="checklist_ticket_form_view" model="ir.ui.view">
    <field name="name">checklist.ticket.form</field>
    <field name="model">checklist.ticket</field>
    <field name="priority" eval="2"/>
    <field name="arch" type="xml">
        <form string="Check List">
        	<header>
        		<button name="button_select_all" string="Select All" type="object" class="btn btn-primary" groups="base.group_user" confirm="Please make sure ALL documents are complete otherwise Cancel"/>
        	</header>
			 <sheet>
			 		<group colspan="2">
			 			<field name="ticket_id" required="1" readonly="1"/>
			 			<field name="partner_id"/>
			 		</group>
			    	
                    <field name="quality_manual"/><span>
								A copy of current version of Quality Manual
								</span><br/><br/>
                    <field name="procedures"/><span>
								Operating Procedures
								</span><br/><br/>
				    <field name="work_inst"/><span>
								Work Instructions
								</span><br/><br/>
				    <field name="org_charts"/><span>
								Up-to-date Organisational Chart(with identity of key personnel involved in each function
								</span><br/><br/>
				    <field name="report_rela"/><span>
								If part of a larger organisation, include a chart of the laboratory’s position and reporting relationships within the organisation
								</span><br/><br/>
				    <field name="prof_testing"/><span>
								Proficiency testing plan and proficiency test results with any corrective action response (if applicable)
								</span><br/><br/>
				    <field name="list_equip"/><span>
								A list of all the equipment used to support the tests or calibrations including in-house (i.e. equipment calibrations that your lab performs) and external calibrations (i.e. those that an external calibration laboratory performs), and rented/borrowed equipment.
								</span><br/><br/>
				    <field name="cali_cert"/><span>
								For Calibration Applicants Only: a sample of a calibration certificate which your laboratory issued and uncertainty calculations that support the Measurement Uncertainties to be claimed on your scope of accreditation.
								</span><br/><br/>
				    <field name="evi_pay"/><span>
								Additional Requirement: Evidence of payment or funding support
								</span><br/><br/>
					<notebook>
					<page string="Additional Information for Finance">
						<group>
							<field name="attachment_ids" readonly="1">
								<tree>
									<field name="datas_fname"/>
									<field name="type"/>
									<field name="create_uid"/>
									<field name="create_date"/>
								</tree>
							</field>
						</group>
						<group col="4" colspan="4">
							<field name="pre_assessment_needed" required="1"/>
							<field name="no_of_assessor" required="1"/>
							<field name="assessment_days" required="1"/>
						</group>
					</page>
					</notebook>
			 </sheet>
			 <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
        </form>
    </field>
    </record>
    
    <!-- car report  tree view-->
    <record id="car_report_tree_view" model="ir.ui.view">
		<field name="name">car.report.tree</field>
		<field name="model">car.report</field>
		<field name="type">tree</field>
		<field name="arch" type="xml">
			<field name="id"/>
			<field name="car_unique"/>
			<field name="brief_description"/>
			<!-- <field name="name"/>
			<field name="ref_no"/> -->
			<field name="faculty_rep"/>
			<field name="scope_assessed"/>
		</field>
	</record>

    <record id="car_report_form_view" model="ir.ui.view">
    <field name="name">car.report.form</field>
    <field name="model">car.report</field>
    <field name="priority" eval="2"/>
    <field name="arch" type="xml">
        <form string="Car Report">
        	<header>
        		<button name="button_assessed_lab_response" string="Sign and Submit" states="lead_assessor_observation" type="object" class="btn btn-primary" groups="base.group_user"/>
        		<button name="button_lead_assessor_review" string="Sign and Submit" states="assessed_lab_response" type="object" class="btn btn-primary"/>
        		<button name="button_next_assessment" string="Accept,Sign and Submit" states="lead_assessor_review" type="object" class="btn btn-primary" groups="base.group_user"/>
        		<button name="button_previous_assessment" string="Reject" states="lead_assessor_review" type="object" class="btn btn-primary" groups="base.group_user"/>
        		<field name="state" widget="statusbar" statusbar_visible="lead_assessor_observation,assessed_lab_response,lead_assessor_review" readonly="1"/>
        	</header>
			 <sheet>
               	<div class="oe_button_box" name="button_box">
                    <button type="action" class="oe_stat_button" name="%(ninasmain.ninas_car_report_attachment_action)d" icon="fa-folder">
                   		<field string="Attachments" name="attachment_count" widget="statinfo"/>
               		</button>
                </div>
                <group>
                	<field name="application_id" widget="selection" attrs="{'required':[('state','=','lead_assessor_observation')], 'readonly':[('state','!=','lead_assessor_observation')]}"  domain="[('lead_assessor_id.user_id','=',uid),('stage_id','=',13)]" required="1"/>
                </group>
			 	<group col="4" colspan="4">
			 		<field name="name" readonly="1"/>
					<field name="ref_no" required="1" attrs="{'readonly':[('state','!=','lead_assessor_observation')]}"/>
					<field name="faculty_rep" readonly="1"/>
					<field name="scope_assessed" readonly="1"/>
			 	</group>
			 	<group>
			 		<field name="brief_description" attrs="{'required':[('state','=','lead_assessor_observation')], 'readonly':[('state','!=','lead_assessor_observation')]}"/>
			 	</group>
				 <group string="PART 1: Detailed Observation and Evidence"/>
				 	<field name="detailed_observation" widget="html" attrs="{'required':[('state','=','lead_assessor_observation')], 'readonly':[('state','!=','lead_assessor_observation')]}"/>
				 <group>
				 	<field name="rel_equip" attrs="{'required':[('state','=','lead_assessor_observation')], 'readonly':[('state','!=','lead_assessor_observation')]}"/>
				 </group>
				 <group col="4" colspan="2">
					 <field name="name_lead" readonly="1"/>
					 <field name="name_lead_date" attrs="{'required':[('state','=','lead_assessor_observation')], 'readonly':[('state','!=','lead_assessor_observation')]}"/>
					 <field name="name_rep" attrs="{'required':[('state','=','lead_assessor_observation')], 'readonly':[('state','!=','lead_assessor_observation')]}"/>
					 <field name="name_rep_date" attrs="{'required':[('state','=','lead_assessor_observation')], 'readonly':[('state','!=','lead_assessor_observation')]}"/>
				 </group>
				 <group string="Part 2: Corrective Action Taken"/>
				 	<p><strong>(Root Cause Analysis)</strong></p>
				 	<field name="root_cause" rows="4" widget="html" attrs="{'required':[('state','=','assessed_lab_response')], 'readonly':[('state','!=','assessed_lab_response')]}"/>
				 	<p><strong>Clearly indicate what corrective action was taken and attach supporting evidence</strong></p>
					<field name="corrective_action" widget="html" attrs="{'required':[('state','=','assessed_lab_response')], 'readonly':[('state','!=','assessed_lab_response')]}"/>
				<group col="4" colspan="2"><!-- , 'readonly':[('state','!=','assessed_lab_response')]} -->
					 <field name="rep_sign" readonly="1"/>
					 <field name="rep_sign_date" readonly="1"/>
				 </group>
				 <group string="PART 3: CORRECTIVE ACTION VERIFIED AND CLEARED"/>
				 	 <p><strong>Comment on the effectiveness of clearance of the NC</strong></p>
			 		 <field name="assessor_nc" widget="html" attrs="{'required':[('state','=','lead_assessor_review')], 'readonly':[('state','!=','lead_assessor_review')]}"/>
				 <group col="4" colspan="2"><!-- attrs="{'readonly':[('state','!=','lead_assessor_review')]}" -->
					 <field name="assessor_sign" readonly="1"/>
					 <field name="assessor_sign_date" readonly="1"/>
				 </group>
				 <group string="PART 4: FOLLOW-UP AT NEXT ASSESSMENT"/>
				 	<p><strong>Comment on the implementation of the corrective actions</strong></p>
				 	<field name="implemantation" attrs="{'required':[('state','=','next_assessment')], 'readonly':[('state','!=','next_assessment')]}"/>
				 <group col="4" colspan="2">
				 	<field name="sign_assessor" attrs="{'readonly':[('state','!=','next_assessment')]}"/>
				 	<field name="sign_assessor_date" attrs="{'readonly':[('state','!=','next_assessment')]}"/>
				 </group>
			 </sheet>
			 <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
        </form>
    </field>
    </record>

       <record id="ninas_helpdesk_team_view_kanban" model="ir.ui.view">
        <field name="name">helpdesk.team.form</field>
        <field name="model">helpdesk.team</field>
        <field name="priority" eval="7" />
        <field name="inherit_id" ref="helpdesk.helpdesk_team_view_kanban"/>
        <field name="arch" type="xml">
           <!-- <xpath expr="//button[@class='btn btn-primary']" position="replace">
                        <button class="btn btn-primary" name="128" type="action">Applications</button>
			</xpath>
			 <xpath expr="//a[@name='120']" position="replace">
	                 <a name="120" type="action" context="{'search_default_team_id': active_id, 'default_team_id': active_id}"><t t-esc="record.upcoming_sla_fail_tickets.raw_value"/> Applications to Review</a>
			</xpath>
			<xpath expr="//a[@name='129']" position="replace">
	                <a name="129" type="action" context="{'search_default_team_id': active_id, 'default_team_id': active_id}"><t t-esc="record.unassigned_tickets.raw_value"/> Unassigned Applications</a>
			</xpath>
			<xpath expr="//a[@name='133']" position="replace">
	                <a name="133" type="action">Opened Application Analysis</a>
			</xpath>-->
			<xpath expr="//div[hasclass('o_kanban_card_manage_title')]" position="replace">
				<div class="o_kanban_card_manage_title">
                    <span>View Applications</span>
                </div>
	        </xpath>
		</field>
    </record>
        
        
        <record id="ninas_helpdesk_ticket_view_kanban" model="ir.ui.view">
	        <field name="name">ninas.helpdesk.ticket.kanban</field>
	        <field name="model">helpdesk.ticket</field>
	        <field name="priority" eval="7"/>
	        <field name="inherit_id" ref="helpdesk.helpdesk_ticket_view_kanban"/>
	        <field name="arch" type="xml">
	            <xpath expr="//kanban[hasclass('o_kanban_small_column')]" position="attributes">
	                <attribute name="edit">0</attribute>
	                <attribute name="quick_create">0</attribute>
	                <attribute name="group_create">0</attribute>
	                <attribute name="options">{'edit':False}</attribute>
	            </xpath>
	            
	        </field>
    	</record>
    	
    	
        <record id="ninas_helpdesk_ticket_view_form_now" model="ir.ui.view">
        <field name="name">ninas.helpdesk.ticket</field>
        <field name="model">helpdesk.ticket</field>
        <field name="priority" eval="7"/>
        <field name="inherit_id" ref="helpdesk.helpdesk_ticket_view_form"/>
        <field name="arch" type="xml">
        	<field name="stage_id" position="replace">
                <field name="stage_id" widget="statusbar" options="{'fold_field': 'fold'}"/>
            </field>
            <field name="name" position="replace">
               <h1><field name="name" class="field_name" placeholder="Subject..." readonly="True"/></h1>
            </field>
            <field name="team_id" position="replace">
                <field name="team_id" invisible="1"/>
            </field>
            <field name="team_id" position="after">
            	<!-- <field name="preassessment_needed" attrs="{'invisible':[('stage_id','!=',17)]}"/>  -->
            	<field name="resources_available" attrs="{'required':[('stage_id','=',5)], 'readonly':[('stage_id','!=',5)]}"/>
            	<field name="conflict_agreement"  invisible="1" attrs="{'required':[('stage_id','=',10)], 'readonly':[('stage_id','!=',10)], 'invisible':[('stage_id','!=',10)]}"/>
                <field name="assessment_team_ids" widget="many2many_tags" domain="[('category_ids.is_assessor','=',True)]" attrs="{'required':[('stage_id','=',9)], 'readonly':['|',('resources_available','=',False), ('stage_id','!=',9)]}"/>
            </field>
            <field name="partner_id" position="before">
                <field name="checklist_sent" readonly="1" invisible="1"/>
                <field name="package_sent" readonly="1" invisible="1"/>
                <field name="confidentiality_agreement" invisible="1"  attrs="{'required':[('stage_id','=',10)], 'readonly':[('stage_id','!=',10)], 'invisible':[('stage_id','!=',10)]}"/>
            </field>
             <field name="ticket_type_id" position="replace">
                <field name="ticket_type_id" invisible="1"/>
            </field>
            <field name="ticket_type_id" position="after"> 
                <field name="assessment_type_id"/>
            </field>
            <field name="ticket_type_id" position="after">
                <field name="funding" attrs="{'readonly':[('stage_id','!=',3)]}"/>
                <field name="funding_company_name" attrs="{'readonly':[('stage_id','!=',1)]}"/>
                <field name="funding_company_rep" attrs="{'readonly':[('stage_id','!=',1)]}"/>
                <field name="funding_company_rep_num" attrs="{'readonly':[('stage_id','!=',1)]}"/>
            </field>
            <field name="user_id" position="replace">
                <field name="user_id" invisible="1"/>
            </field>
            <field name="user_id" position="after">
                <field name="lead_assessor_id" domain="[('category_ids.is_assessor','=',True)]" attrs="{'required':[('stage_id','=',9)], 'readonly':['|',('resources_available','=',False), ('stage_id','!=',9)]}"/>
           		<field name="tech_assessor_id" domain="[('category_ids.is_assessor','=',True)]" attrs="{'readonly':['|',('resources_available','=',False), ('stage_id','!=',9)]}"/>
            	<field name="ac_members" domain="[('groups_id','=',82)]" widget="many2many_tags" attrs="{'required':[('stage_id','=',16)], 'readonly':[('stage_id','!=',16)]}" min="3"/>
            </field>
            <field name="deadline" position="after">
                <field name="re_assessment_date" attrs="{'required':[('stage_id','=',20)], 'readonly':[('stage_id','!=',20)]}"/>
                <field name="decision_making_number" attrs="{'required':[('stage_id','=',21)], 'readonly':[('stage_id','!=',21)]}"/>
                <!-- <field name="est_pre_assessment_needed"/>
                <field name="est_no_of_assessor"/>
                <field name="est_assessment_days"/> -->
            </field>
            <field name="priority" position="after">
            	<field name="document_review" attrs="{'required':[('stage_id','=',17)], 'readonly':[('stage_id','!=',17)]}"/>
                <label for="assessment_date" string="Assessment Date"/>
                   <div>
	                   <div>
	                       <field name="assessment_date_from" class="oe_inline" attrs="{'required':[('stage_id','=',12)], 'readonly':[('stage_id','!=',12)]}"/>
	                       <label string=" -" class="oe_inline"/>
	                       <field name="assessment_date_to" class="oe_inline" attrs="{'required':[('stage_id','=',12)], 'readonly':[('stage_id','!=',12)]}"/>
	                   </div>
	                   <div>
	                       <field name="assessment_number_of_days" class="oe_inline" readonly="1"/> days
	                   </div>
                   </div>
            </field>
            <field name="tag_ids" position="after">
            	<field name="creation_date" readonly="1"/>            	
            </field>
            <field name="description" position="after">
            	<notebook>
	            	<!-- <page string="Additional Information">
            			<group>
            				<field name="est_pre_assessment_needed" required="1"/>
	            			<field name="est_no_of_assessor" required="1"/>
	            			<field name="est_assessment_days" required="1"/>
            			</group>
	            	</page>-->
	            	<page string="Mobile App Attachments">
	            		<field name="mobile_app_attachment_ids">
		            		<tree editable="True">
		            			<field name="name" required="1"/>
		            			<field name="attachment_description" required="1"/>
		            			<field name="attachment_image" required="1"/>
		            		</tree>
		            	</field>
	            	</page>
            	</notebook>            	
            </field>
        </field>
    </record>
    
    <record id="ninas_helpdesk_ticket_view_form" model="ir.ui.view">
            <field name="name">ninas.helpdesk.ticket.form</field>
            <field name="model">helpdesk.ticket</field>
            <field name="inherit_id" ref="helpdesk.helpdesk_ticket_view_form"/>
            <field name="arch" type="xml">
               <xpath expr="//sheet" position="after">
                	<sheet readonly="True">
           	    	<group string="Confidentiality Policy">	
	           	    	<span>
	                        According to the NiNAS Code of Conduct: All NiNAS Assessors, Staff and Committee members are required to keep
	                        information about your application confidential. Following a successful accreditation, the only information published by
	                        NiNAS will be your accredited scope and contact details. NiNAS may be required by law to share other information or may
	                        publish information that is already in the public domain.                                                        
	           	    	</span>
           	       	</group>
           	       	
           	       	<group string="Part I. Application Information" col="4" colspan="4">
           	       		<field name="partner_name" readonly="True"/>
           	       		<field name="applicant_rep_title" readonly="True"/>
           	       	</group>
           	       	<group col="4" colspan="4">
           	       	<field name="laboratory_legal_name" readonly="True"/>
           	       	
           	       	<label for="laboratory_address" string="Laboratory Address"/>
           	       	<div class="o_address_format">
                        <field name="lab_number" placeholder="Number..." class="o_address_street" readonly="True"/>
                        <field name="lab_street" placeholder="Street..." class="o_address_street" readonly="True"/>
                        <field name="lab_city" placeholder="City" class="o_address_city" readonly="True"/>
                        <field name="lab_state_id" class="o_address_state" placeholder="State" options='{"no_open": True}' readonly="True"/>
                        <field name="lab_country_id" placeholder="Country" class="o_address_country" options='{"no_open": True, "no_create": True}' readonly="True"/>
                    </div>
                    
           	       	<field name="telephone_number" readonly="True"/>
           	       	<field name="email_address" readonly="True"/>
           	       	
           	       	<label for="mailing_address" string="Mailing Address"/>
           	       	<div class="o_address_format">
                        <field name="mail_number" placeholder="Number..." class="o_address_street" readonly="True"/>
                        <field name="mail_street" placeholder="Street..." class="o_address_street" readonly="True"/>
                        <field name="mail_city" placeholder="City" class="o_address_city" readonly="True"/>
                        <field name="mail_state_id" class="o_address_state" placeholder="State" options='{"no_open": True}' readonly="True"/>
                        <field name="mail_country_id" placeholder="Country" class="o_address_country" options='{"no_open": True, "no_create": True}' readonly="True"/>
                    </div>
           	       	
           	       	</group>
           	    	<group>
           	    	<field name="account">
           	    		<tree editable="True">
           	    			<field name="contact_name" readonly="True"/>
		           	       	<field name="telephone" readonly="True"/>
		           	       	<field name="email" readonly="True"/>
		           	       	<field name="alternate_email" readonly="True"/>
           	    		</tree>
           	    	</field>
           	    		<field name="name_address_of_owners" readonly="True"/>
           	    	</group>
           	    	
           	    	<notebook>
           	    		<page string="Type &amp; Size of Laboratory:">
	           	    		<group>
	           	    		<field name="testing_lab" readonly="True"/>
	           	    		<field name="calibration_lab" readonly="True"/>
	           	    		<field name="med_lab" readonly="True"/>
	           	    		</group>
	           	    		<!-- <group string="Size of Laboratory (the number of tests being carried out)">
	           	    			<field name="tertiary_level_lab" readonly="True"/>
		           	    		<field name="secondary_level_lab" readonly="True"/>
		           	    		<field name="primary_level_lab" readonly="True"/>
	           	    		</group>-->
	           	    		<group string="Number Of Scopes">
	           	    			<field name="number_of_scopes" readonly="True"/>
	           	    		</group>
           	    		</page>
           	    		<page string="Tests">
           	    		<table class="tableizer-table">
							<thead><tr class="tableizer-firstrow"><th>Example:</th><th>&#160;</th></tr></thead><tbody>
							 <tr><td><u>FOOD MICROBIOLOGY - Bacteriology</u></td><td>&#160;</td></tr><br/>
							 <tr><td><u>Test Name</u></td><td><u>Test Method Number</u></td></tr>
							 <tr><td>Aerobic Plate Count Method</td><td>AOAC 990.12; AFNOR 3M</td></tr>
							 <tr><td>Brine Testing for Coliform</td><td>AOAC 991.14</td></tr>
							 <tr><td>Environmental, Brine, and Food Contact Testing for Listeria Genus</td><td>AOAC RI 020401</td></tr><br/>
							 <tr><td>&#160;</td><td>&#160;</td></tr>
							 <tr><td>FOOD MICROBIOLOGY - Mycology</td><td>&#160;</td></tr>
							 <tr><td><u>Test Name</u></td><td><u>Test Method Number</u></td></tr>
							 <tr><td>Yeast and Mold</td><td>BAM Ch. 18; APHA Compendium Ch. 21, 52</td></tr><br/>
							 <tr><td>&#160;</td><td>&#160;</td></tr>
							 <tr><td>FOOD CHEMISTRY</td><td>&#160;</td></tr>
							 <tr><td><u>Test Name</u></td><td><u>Test Method Number</u></td></tr>
							 <tr><td>Fat</td><td>AOCS Am 5-04</td></tr>
							 <tr><td>Moisture</td><td>AOCS Am 5-04</td></tr>
							 <tr><td>Protein</td><td>AOAC 992.15</td></tr>
							 <tr><td>Salt in Meat</td><td>AOAC 935.47</td></tr>
							</tbody></table>
           	    		<group string="List the Test Names and Methods below, as in the format shown above, for which your laboratory seeks accreditation:"></group>
           	    		
           	    		<field name="test_char" readonly="True"/>
           	    		
           	    		<!-- <field name="test">
	           	    		<tree editable="True">
		           	    		<field name="test_name" readonly="True"/>
		           	    		<field name="test_method" readonly="True"/>
	           	    		</tree>
           	    		</field> -->
           	    		
           	    		<group>
	           	    		<field name="lab_capabilities" placeholder="Please enter a brief description of the types of other tests or calibrations that the laboratory currently conducts which you do not plan to include on your scope of accreditation at this time" readonly="True"/>
	           	    		<field name="num_of_lab_staff" placeholder="Please enter the total number of laboratory personnel, including those who may conduct testing work off-site." readonly="True"/>
           	    		</group>
           	    		</page>
           	    		<page string="Agreement">
           	    			<group col="4" colspan="4">
           	    			<field name="signed_by_authorized_rep" readonly="True"/>
           	    			<field name="place_sign" readonly="True"/>
           	    			<field name="place_date" readonly="True"/>
           	    			</group>
           	    			<group>
           	    				<field name="print_name_below" readonly="True"/>
           	    			</group>
           	    			<group col="6" colspan="3">
           	    				<field name="telephone" readonly="True"/>
           	    				<field name="fax" readonly="True"/>
           	    				<field name="email" readonly="True"/>
           	    			</group>
           	    			<span>I have read, I understand and I agree with the information provided in the Guide for Laboratories Applying to NiNAS for Accreditation, and agrees that the laboratory</span><br/>
                            <span>a) commit to fulfill continually the requirements for accreditation for the scope for which accreditation is sought or granted and commit to provide evidence of fulfillment. This includes agreement to adapt to changes in the requirements for accreditation;</span><br/>
                            <span>b) cooperate as is necessary to enable the accreditation body to verify fulfillment of requirements for accreditation;</span><br/>
           	    			<span>c) provide access to conformity assessment body personnel, locations, information, documents and records as necessary to verify fulfillment of requirements for accreditation;</span><br/>
           	    			<span>d) arrange the witnessing of conformity assessment activities when requested by the accreditation body;  </span><br/>
           	    			<span>e) have, where applicable, legally enforceable arrangements with their clients that commit the  clients to provide, on request, access to accreditation body assessment teams to assess the conformity assessment body's performance when carrying out conformity assessment activities at the client’s site;</span><br/>
           	    			<span>f) claim accreditation only with respect to the scope for which it has been granted; </span><br/>
           	    			<span>g) commit to follow the accreditation body's policy for the use of the accreditation symbol;</span><br/>
           	    			<span>h) not to use its accreditation in such a manner as to bring the accreditation body into disrepute;</span><br/>
           	    			<span>i) inform the accreditation body without delay of significant changes relevant to its accreditation such as,<br/>
							- its legal, commercial, ownership or organizational status,<br/>
							- the organization, top management and key personnel,<br/>
							- resources and location(s) other matters that may affect the ability of the conformity assessment body to fulfill requirements for accreditation</span><br/>
           	    			<span>j) to pay fees as determined by the accreditation body; and</span><br/>
           	    			<span>k) to assist in the investigation and resolution of any accreditation-related complaints about the conformity assessment body referred to it by the accreditation body.</span><br/>
           	    		</page>
           	    		<page string="Supporting Attachments for Application">
           	    			<group string="Please include the following supporting documentation with the application:">
           	    				<span>☐	A copy of the current version of your quality manual and any operating procedures and work instructions. Electronic copies are preferred.</span><br/>
           	    				<span>☐ An up-to-date laboratory organization chart and identify, by name, the key personnel involved for each function.</span><br/>
           	    				<span>☐	If laboratory is a part of a larger organization, e.g., a manufacturing company or a government department, include a chart of the Laboratory’s position and reporting relationships within that organization.</span><br/>
           	    				<span>☐	The proficiency testing plan and proficiency test results, with any corrective action response (if applicable).</span><br/>
           	    				<span>☐	A list of all equipment used to support the tests or calibrations including in-house (i.e. equipment calibrations that your lab perform) and external calibrations (i.e. those that an external calibration laboratory performs), and rented/borrowed equipment.</span><br/>
           	    				<span>☐	For Calibration Applicants Only:  a sample of a calibration certificate which you laboratory issues and uncertainty calculations that support the Measurement Uncertainties to be claimed on your scope of accreditation.</span><br/>
           	    			</group>
           	    			<group string="Questions?:  Please direct them to: Applications@NiNAS.ng  or call: +234 (0) 81 7976 4868"></group>
           	    		</page>
           	    	</notebook>
           	    	
                </sheet>
			    </xpath>
            
            </field>
    </record>
    
    <record id="ninas_assessment_type_form_view" model="ir.ui.view">
    <field name="name">assessment.type.form</field>
    <field name="model">assessment.type</field>
    <field name="priority" eval="2"/>
    <field name="arch" type="xml">
        <form string="Assessment Type">
			 <sheet>
				 <group>
				 <field name="name"/>
					 <field name="attachment_ids" widget="many2many_binary"/>
				 </group>
			 </sheet>
        </form>
    </field>
    </record>
    
  <!-- assessment type action -->
    <record model="ir.actions.act_window" id="ninas_assessment_type_action">
		<field name="name">Assessment Type</field>
		<field name="res_model">assessment.type</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="domain">[]</field>
		<field name="context">{}</field>
	</record>
	
	<!-- assessment type action -->
    <record model="ir.actions.act_window" id="mobile_app_attachment_action">
		<field name="name">Mobile App Attechments</field>
		<field name="res_model">mobile.app.attachment</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="domain">[]</field>
		<field name="context">{}</field>
	</record>
    
  <menuitem name="Assesment Type" id="ninas_assessment_type" parent="helpdesk.helpdesk_menu_config" action="ninas_assessment_type_action"/>
  <menuitem name="Mobile App Attachment" id="mobile_app_attachment" parent="helpdesk.helpdesk_menu_config" action="mobile_app_attachment_action"/>
        
  </data>
</odoo>
