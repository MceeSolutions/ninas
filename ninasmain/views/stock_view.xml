<odoo>
  <data>
  <!-- 
  	<record id="ninas_purchase_tree_view" model="ir.ui.view">
        <field name="name">ninas.purchase.tree</field>
        <field name="model">purchase.order</field>
        <field name="inherit_id" ref="purchase.purchase_order_tree"/>
        <field name="arch" type="xml">
	        <field name="state" position="before">
	        	<field name="need_override"/>
	        </field>	
        </field>
    </record>
  	 -->
  	 
  	<record id="ninas_purchase_form_view" model="ir.ui.view">
        <field name="name">ninas.purchase.form</field>
        <field name="model">purchase.order</field>
        <field name="inherit_id" ref="purchase.purchase_order_form"/>
        <field name="arch" type="xml">
        	<button name="print_quotation" position="attributes"> <attribute name="groups">purchase.group_purchase_user</attribute></button>
        	<button name="action_rfq_send" position="attributes"> <attribute name="groups">purchase.group_purchase_user</attribute></button>
        	
        	<!-- <field name="name" position="before">
            	<field name= "need_override" invisible = "1"/>
            	<h3 attrs="{'invisible': [('need_override', '=', False)]}"><b>Needs Budget Override, The Budget Dept. has been notified </b></h3>
            </field>-->
            
        	<xpath expr="//button[@name='action_view_picking']" position="replace">
        		<button type="object"
                            name="action_view_picking"
                            class="oe_stat_button"
                            icon="fa-truck" attrs="{'invisible':[('state', 'in', ('submit','draft','sent','to approve')),('picking_ids','=',[])]}">
                            <field name="picking_count" widget="statinfo" string="Shipment" help="Incoming Shipments"/>
                            <field name="picking_ids" invisible="1"/>
                        </button>
        	</xpath>
        	<xpath expr="//button[@name='action_view_invoice']" position="replace">
        		<button type="object"  name="action_view_invoice"
                     class="oe_stat_button" groups="account.group_account_invoice"
                     icon="fa-pencil-square-o" attrs="{'invisible':[('state', 'in', ('submit','draft','sent','to approve')),('invoice_ids','=',[])]}">
                     <field name="invoice_count" widget="statinfo" string="Vendor Bills"/>
                     <field name='invoice_ids' invisible="1"/>
                 </button>
        	</xpath>
        	
        	<!-- <xpath expr="//field[@name='order_line']/tree/field[@name='price_subtotal']" position="after">
            	<field name= "need_override" attrs="{'invisible': [('need_override', '=', False)]}" />
            	<field name= "override_budget" attrs="{'invisible': [('need_override', '=', False)]}"/>
            	<button name="action_override_budget" type="object" string="Override Budget" attrs="{'invisible': ['|',('need_override', '=', False),('override_budget', '=', True)]}"/>
            </xpath>-->
            
        	<xpath expr="//button[@name='action_rfq_send']" position="before">
        		<button name="button_submit" string="Submit to Manager" type="object" states="draft" groups="base.group_user"/>
        	</xpath>
        	<xpath expr="//button[@name='button_confirm']" position="replace">
        		<button name="button_confirm" type="object" states="submit" string="Approve Order" id="draft_confirm"/>
        	</xpath>
        	<xpath expr="//button[@name='button_cancel']" position="replace">
        		<button name="button_cancel" type="object" states="submit" string="Decline Order" id="draft_decline"/>
        	</xpath>
        	
        	<xpath expr="//button[@name='button_approve']" position="replace">
        		<button name="button_approve" type="object" states='to approve' string="Confirm Order" class="oe_highlight" groups="purchase.group_purchase_manager"/>
        	</xpath>
        	
        	<xpath expr="//button[@name='button_approve']" position="after">
        		<button name="button_cancel" type="object" states='to approve' string="Cancel Order" class="oe_highlight" groups="purchase.group_purchase_manager"/>
        	</xpath>
        	
        	<xpath expr="//field[@name='order_line']/tree/field[@name='date_planned']" position="after">
            	<field name="account_id" required = "1"/>
            </xpath>
            <xpath expr="//field[@name='order_line']/tree/field[@name='account_analytic_id']" position="replace">
            	<field name="account_analytic_id" invisible = "1"/>
            </xpath>
            <xpath expr="//field[@name='order_line']/tree/field[@name='analytic_tag_ids']" position="replace">
            	<field name="analytic_tag_ids" groups="purchase.group_analytic_accounting" invisible = "1" widget="many2many_tags" options="{'color_field': 'color'}"/>
            </xpath>
            <field name="partner_id" position="after">
            	<field name="employee_id"/>
            	<field name="approval_date"/>
            	<field name="manager_approval"/>
            	<!-- 
            	<field name="sub_account_id" domain="[('state','=','approve')]"/>
            	<field name="manager_approval"/>
            	 -->
            </field>
        </field>
    </record>
    
    
    <record id="ninas_hr_job_form_view" model="ir.ui.view">
        <field name="name">hr.job.form</field>
        <field name="model">hr.job</field>
        <field name="priority" eval="7" />
        <field name="inherit_id" ref="hr.view_hr_job_form"/>
        <field name="arch" type="xml">
           <xpath expr="//button[@name='set_recruit']" position="before">
				<button name="button_approve" string="Approve" states="approve" type="object" class="btn btn-primary"/>
			</xpath>
			<field name="state" position="replace">
                <field name="state" widget="statusbar" statusbar_visible="approve,recruit,open"/>
            </field>
           </field>
    </record>

    <record id="ninas_hr_recruitment_crm_case_form_view_job" model="ir.ui.view">
        <field name="name">hr.applicant.form</field>
        <field name="model">hr.applicant</field>
        <field name="priority" eval="7" />
        <field name="inherit_id" ref="hr_recruitment.crm_case_form_view_job"/>
        <field name="arch" type="xml">
           <xpath expr="//button[@name='create_employee_from_applicant']" position="before">
				<button name="button_approve" string="Approve" type="object" class="btn btn-primary" attrs="{'invisible': [('approved', '=', True)]}"/>
			</xpath>
				<xpath expr="//button[@name='create_employee_from_applicant']" position="replace">
					<button string="Create Employee" name="create_employee_from_applicant" type="object"
	                        class="oe_highlight" attrs="{'invisible': ['|','|',('approved', '=', False),('emp_id', '!=', False),('active', '=', False)]}"/>
				</xpath>
			<xpath expr="//button[@name='archive_applicant']" position="replace">
				<button string="Refuse" name="archive_applicant" type="object" attrs="{'invisible': ['|',('approved', '=', False),('active', '=', False)]}"/>
			</xpath>
			<field name="department_id" position="after">
                <field name="approved"/>
            </field>
           </field>
    </record>
    
    <record id="ninas_helpdesk_view_form_view" model="ir.ui.view">
        <field name="name">helpdesk.ticket.form</field>
        <field name="model">helpdesk.ticket</field>
        <field name="priority" eval="7" />
        <field name="inherit_id" ref="helpdesk.helpdesk_ticket_view_form"/>
        <field name="arch" type="xml">
           <xpath expr="//button[@name='assign_ticket_to_self']" position="before">
                	<button type="object" name="action_create_new" string="Create Invoice" class="btn btn-primary btn-sm o_invoice_new"/>
			</xpath>
			<xpath expr="//button[@name='toggle_active']" position="before">
		    	<button type="action" class="oe_stat_button" name="%(ninasmain.ninas_checklist_ticket_action)d" context="{'search_default_customer': active_id,'default_customer': active_id}" icon="fa-pencil-square-o">
                	<field string="Checklist" name="checklist_count" widget="statinfo"/>
               </button>
			</xpath>
			<xpath expr="//button[@name='toggle_active']" position="before">
		    	<button type="action" class="oe_stat_button" name="%(account.action_invoice_tree1)d" context="{'search_default_customer': active_id,'default_customer': active_id}" icon="fa-pencil-square-o">
                                <field string="Invoices" name="invoice_count" widget="statinfo"/>
                            </button>
			</xpath>
           </field>
    </record>
    
    
    <!-- checklist.ticket  tree view-->
    <record id="checklist_ticket_tree_view" model="ir.ui.view">
		<field name="name">checklist.ticket.tree</field>
		<field name="model">checklist.ticket</field>
		<field name="type">tree</field>
		<field name="arch" type="xml">
			<field name="name"/>
			<field name="current_stage"/>
		</field>
	</record>

    <record id="checklist_ticket_form_view" model="ir.ui.view">
    <field name="name">checklist.ticket.form</field>
    <field name="model">checklist.ticket</field>
    <field name="priority" eval="2"/>
    <field name="arch" type="xml">
        <form string="Check List">
			 <sheet>
				 <group col="4" colspan="4">
				 <field name="name"/>
				 <field name="current_stage"/>
				 </group>
				 <notebook>
					<page name="stages" string="Stages">
						 <group col="4" colspan="2">
							<field name="stage_one"/>
						 	<field name="stage_two"/>
						 	<field name="stage_three"/>
						 	<field name="stage_four"/>
					 	</group>
					 </page>
				 </notebook>
			 </sheet>
        </form>
    </field>
    </record>
    
    <!-- checklist ticket action-->
    <record model="ir.actions.act_window" id="ninas_checklist_ticket_action">
		<field name="name">checklist ticket</field>
		<field name="res_model">checklist.ticket</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="domain">[]</field>
		<field name="context">{}</field>
	</record>
    
    <record id="purchase_rfq" model="ir.actions.act_window">
        <field name="name">Requests for Quotation</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">purchase.order</field>
        <field name="context">{'search_default_todo':1, 'show_purchase': False}</field>
        <field name="domain">[('state','in',('draft','sent','bid','cancel', 'submit','confirmed'))]</field>
        <field name="view_mode">tree,kanban,form,pivot,graph,calendar</field>
        <field name="search_view_id" ref="purchase.view_purchase_order_filter"/>
        <field name="help" type="html">
          <p class="oe_view_nocontent_create">
            Click to create a request for quotation.
          </p><p>
            The quotation contains the history of the discussion/negotiation
            you had with your vendor. Once confirmed, a request for
            quotation is converted into a purchase order.
          </p><p>
            Most propositions of purchase orders are created automatically
            by Odoo based on inventory needs.
          </p>
        </field>
    </record>
    


  </data>
</odoo>
